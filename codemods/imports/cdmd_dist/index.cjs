var n=Object.defineProperty;var s=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var g=(t,e)=>{for(var r in e)n(t,r,{get:e[r],enumerable:!0})},l=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of d(e))!p.call(t,i)&&i!==r&&n(t,i,{get:()=>e[i],enumerable:!(o=s(e,i))||o.enumerable});return t};var f=t=>l(n({},"__esModule",{value:!0}),t);var h={};g(h,{handleSourceFile:()=>I});module.exports=f(h);var m=require("ts-morph");function u(t,e,r){let o=t.getImportDeclaration(e)??t.addImportDeclaration({moduleSpecifier:e});return o.getNamedImports().find(a=>a.getName()===r)??o.addNamedImport({name:r})}function c(t,e){if(t.getAliasNode())t.getNameNode().replaceWithText(e);else{let r=t.getNameNode();m.Node.isIdentifier(r)?r.rename(e):r.replaceWithText(e)}return t}function N(t){return t.getImportDeclarations().find(e=>e.getModuleSpecifier().getLiteralText().startsWith("msw"))!==void 0}function I(t){if(N(t))return t.getImportDeclarations().filter(e=>e.getModuleSpecifierValue()==="msw").forEach(e=>{let r=e.getNamedImports().find(o=>o.getName()==="setupWorker");r&&(r.remove(),e.getNamedImports().length||e.remove(),u(t,"msw/browser","setupWorker")),!e.wasForgotten()&&e.getNamedImports().filter(o=>["rest","RestHandler"].includes(o.getName())).forEach(o=>{let i=o.getName();c(o,i==="rest"?"http":"HttpHandler")})}),t.getFullText()}0&&(module.exports={handleSourceFile});
